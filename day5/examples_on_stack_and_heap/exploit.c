#include <stdio.h>

#define INIT_BP_SP register long long int myRBP __asm__("rbp"); \
                   register long long int myRSP __asm__("rsp")

#define PRINT_BP_SP printf("FUNCTION: %s\nRBP: %p\nRSP: %p\nsize: %lu\n", \
                            __FUNCTION__, \
                            (void*)myRBP, \
                            (void*)myRSP, \
                            (void*)myRBP - (void*)myRSP)


void func()
{
    //INIT_BP_SP;

    //PRINT_BP_SP;

    int a[1];
    a[8] = 5;
    kprintf("tricky: %p\n", a+8);
}             

int main()
{
    //INIT_BP_SP;

    //PRINT_BP_SP;

    volatile int a = 16;

    printf("outer:  %p\n", &a);

    func();

    printf("a:      %d\n", a);

    return 0;
}